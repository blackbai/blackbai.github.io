{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/hexo-theme-laughing/source/favicon.ico","path":"favicon.ico","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/css/main_style.css","path":"css/main_style.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/css/main_style.css.map","path":"css/main_style.css.map","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/css/main_style.min.css","path":"css/main_style.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/css/main_style.min.css.map","path":"css/main_style.min.css.map","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/default_images/page_background.jpg","path":"default_images/page_background.jpg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/fonts/icon.eot","path":"fonts/icon.eot","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/fonts/icon.svg","path":"fonts/icon.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/fonts/icon.ttf","path":"fonts/icon.ttf","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/fonts/icon.woff","path":"fonts/icon.woff","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/sass/main_style.scss","path":"sass/main_style.scss","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/README.md","path":"components/reset-css/README.md","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/LICENSE","path":"components/reset-css/LICENSE","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/package.json","path":"components/reset-css/package.json","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/gruntfile.js","path":"components/reset-css/gruntfile.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/default_images/author_head.gif","path":"default_images/author_head.gif","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/default_images/post_background.jpg","path":"default_images/post_background.jpg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/main.scss","path":"components/reset-css/sass/main.scss","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/mobile-native.scss","path":"components/reset-css/sass/mobile-native.scss","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/mobile-single.scss","path":"components/reset-css/sass/mobile-single.scss","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/dist/mobile/reset.min.css","path":"components/reset-css/dist/mobile/reset.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/dist/mobile/reset.css","path":"components/reset-css/dist/mobile/reset.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/dist/pc/reset.css","path":"components/reset-css/dist/pc/reset.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/dist/pc/reset.min.css","path":"components/reset-css/dist/pc/reset.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/mobile/reset.css.map","path":"components/reset-css/public/mobile/reset.css.map","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/mobile/reset.min.css.map","path":"components/reset-css/public/mobile/reset.min.css.map","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/mobile/reset.css","path":"components/reset-css/public/mobile/reset.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/mobile/reset.min.css","path":"components/reset-css/public/mobile/reset.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/main/reset.css","path":"components/reset-css/public/main/reset.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/main/reset.min.css","path":"components/reset-css/public/main/reset.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/main/reset.css.map","path":"components/reset-css/public/main/reset.css.map","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/main/reset.min.css.map","path":"components/reset-css/public/main/reset.min.css.map","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/native/reset.css","path":"components/reset-css/public/native/reset.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/native/reset.css.map","path":"components/reset-css/public/native/reset.css.map","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/native/reset.min.css.map","path":"components/reset-css/public/native/reset.min.css.map","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/native/reset.min.css","path":"components/reset-css/public/native/reset.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/custom/imitation-native.scss","path":"components/reset-css/sass/custom/imitation-native.scss","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/reset/basic.scss","path":"components/reset-css/sass/reset/basic.scss","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/reset/mobile.scss","path":"components/reset-css/sass/reset/mobile.scss","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/reset/ie.scss","path":"components/reset-css/sass/reset/ie.scss","modified":1,"renderable":1},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/reset/macos.scss","path":"components/reset-css/sass/reset/macos.scss","modified":1,"renderable":1}],"Cache":[{"_id":"themes/hexo-theme-laughing/.bowerrc","hash":"b75a692434bf6eacc36d6f794b578f1cb8ad5084","modified":1484621815783},{"_id":"themes/hexo-theme-laughing/.gitignore","hash":"53f6b00fdc554b3e9d32373aee71c203a1c4aada","modified":1484621815783},{"_id":"themes/hexo-theme-laughing/LICENSE","hash":"a1963a5785638110395343a67809226481891219","modified":1484621815783},{"_id":"themes/hexo-theme-laughing/README.md","hash":"4100d953fec1232437481164420818d31e14f86a","modified":1484621815783},{"_id":"themes/hexo-theme-laughing/_config.yml","hash":"6ea73edc9dbe9b051aca56027f6461f1dd89437f","modified":1484641323419},{"_id":"themes/hexo-theme-laughing/gruntfile.js","hash":"f80f2a78c69603db35452a12b81f6aa63a4704da","modified":1484621815783},{"_id":"themes/hexo-theme-laughing/package.json","hash":"206cbea05e6ed8d175cb4b2fe3ff325f9aea2871","modified":1484621815799},{"_id":"source/_posts/hello-world.md","hash":"029f91fccbe8f87c0f3ea10c4042300d2fa7edc0","modified":1484621149153},{"_id":"source/_posts/使用redis实现互粉功能.md","hash":"40b8853fe3584d6c25a1733649f905b3593133cd","modified":1484641138869},{"_id":"themes/hexo-theme-laughing/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1484621815783},{"_id":"themes/hexo-theme-laughing/.git/config","hash":"4869f21a74df3be7d468108be2ab4281690a71ae","modified":1484621815783},{"_id":"themes/hexo-theme-laughing/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1484621600392},{"_id":"themes/hexo-theme-laughing/.git/index","hash":"328e0c458de137dc0894568dc390fb5bd4ae0faa","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/.git/packed-refs","hash":"710bd42ebab1f76e525b4728f3677b4b2bd81cd1","modified":1484621815768},{"_id":"themes/hexo-theme-laughing/layout/index.pug","hash":"cf359818207e11296f35c942fa51444eeeaafd74","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/layout/post.pug","hash":"42aadb264e7e51bb8811ddce7df33668e6f2cddd","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/favicon.ico","hash":"3c779118c15f1734e08d83ec62d8e0d73c61339b","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1484621600392},{"_id":"themes/hexo-theme-laughing/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1484621600392},{"_id":"themes/hexo-theme-laughing/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1484621600392},{"_id":"themes/hexo-theme-laughing/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1484621600392},{"_id":"themes/hexo-theme-laughing/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1484621600392},{"_id":"themes/hexo-theme-laughing/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1484621600392},{"_id":"themes/hexo-theme-laughing/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1484621600392},{"_id":"themes/hexo-theme-laughing/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1484621600392},{"_id":"themes/hexo-theme-laughing/.git/hooks/update.sample","hash":"39355a075977d05708ef74e1b66d09a36e486df1","modified":1484621600392},{"_id":"themes/hexo-theme-laughing/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1484621600392},{"_id":"themes/hexo-theme-laughing/.git/logs/HEAD","hash":"011a2b4deb1235f91a41f71e6e4b6faf6ef715b1","modified":1484621815783},{"_id":"themes/hexo-theme-laughing/layout/_partial/footer.pug","hash":"bab4bc82e351120dabf081c890ce882b4240acec","modified":1484621815783},{"_id":"themes/hexo-theme-laughing/layout/_partial/layout.pug","hash":"0d12567a0d1c7a3245845fc56a9e8a7c4e696b5e","modified":1484621815783},{"_id":"themes/hexo-theme-laughing/layout/_partial/page_header.pug","hash":"75df762ebc1fd929cf23c7f73a994ebcf82d6f06","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/layout/_partial/pagination.pug","hash":"66760d1ffc79c2c4b8b31bd101c35f55e8edd667","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/layout/_partial/post_header.pug","hash":"9ecb2ec652e7b6786613a4a5f5b30506ca899a44","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/css/main_style.css","hash":"2a3a49a5427b43be7959d0e66f77b909d17b08d0","modified":1484621815814},{"_id":"themes/hexo-theme-laughing/source/css/main_style.css.map","hash":"689714c6749a1a751aa1a566b8cf0a8d5c1050cc","modified":1484621815814},{"_id":"themes/hexo-theme-laughing/source/css/main_style.min.css","hash":"3df938181f2afb96288a7910f7454f3047e2dc97","modified":1484621815814},{"_id":"themes/hexo-theme-laughing/source/css/main_style.min.css.map","hash":"d38c833d4c95f8262cd710aed69025eaf0e54cbe","modified":1484621815814},{"_id":"themes/hexo-theme-laughing/source/default_images/page_background.jpg","hash":"c4631a1aeca852ff08ba737ba6bec6745e6a70f9","modified":1484623508233},{"_id":"themes/hexo-theme-laughing/source/fonts/icon.eot","hash":"3fee4b8f17f7877e8e0a6a803624cc86e87ba906","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/fonts/icon.svg","hash":"b02df6bb02b0c519596b8158be919e9d22d74aaa","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/fonts/icon.ttf","hash":"915774eca49aa56a6d6a861b10ca9d03b88f59ab","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/fonts/icon.woff","hash":"a382f6643ef3c4cf3412e595a045b136fb32d21c","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/main_style.scss","hash":"fcc8c942dcbfb05b443843e06245cc9e527822f8","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/.git/objects/pack/pack-6fdd5c62585a83ed11c5c60b55a86fffdc69e2d5.idx","hash":"f97d0d48e34be27b501e02b9e3c7fd8d8a42fb59","modified":1484621815243},{"_id":"themes/hexo-theme-laughing/.git/refs/heads/master","hash":"d1651e812157e007366a5f34cde9f150acb70ca1","modified":1484621815783},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/.bower.json","hash":"c325b80d23bf177fc7cc626a6c417765635e7646","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/.gitignore","hash":"b54c108d488f239962023a617b5246f939259dee","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/README.md","hash":"adcd30abc9771724c51646d82e109461ecc7439f","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/LICENSE","hash":"a1963a5785638110395343a67809226481891219","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/package.json","hash":"a4d8b5cd6801d2c342da0f300a0515ea5e78ffaa","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/gruntfile.js","hash":"1d49dc6b7a33ba3f24622f6638528a7abc45ed2b","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/default_images/author_head.gif","hash":"7289a87e66e7aaa13b6da71e1d6f4096ee5ee2d8","modified":1484623368077},{"_id":"themes/hexo-theme-laughing/source/sass/_partial/duoshuo.scss","hash":"a472ed934a0aba4e274e0b3fdab3f82f8be6cc0f","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/_partial/footer.scss","hash":"cdc201f780c77f17bd106b2345d1bf49f0ab2c26","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/_partial/layout.scss","hash":"eb0aac79fff9e9a610387b5a7cde89f63c99c846","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/_partial/list.scss","hash":"c101c7677947b0209330f881b889cb26819f05f0","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/_partial/navication.scss","hash":"11a1105fafbc86a1138dfd30baf62d0ee22eed23","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/_partial/page_header.scss","hash":"e81c5d070c31de50ced5bd447bc2db00df252d58","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/_partial/post.scss","hash":"232bce632fa0ff33f59ee8c1e4ff41c1af0e200e","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/_partial/pagination.scss","hash":"a1bd4e4ac36f428cc8a86dc324eee73558ad240e","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/_partial/post_header.scss","hash":"8fd997fd0da22576414cec76d2262bb52483e9a3","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/_util/color.scss","hash":"d7aba613cdc8184855fb6050ccadfee997dc366d","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/_util/icon.scss","hash":"fcecd146f8811af878e0ba250471ddc642817255","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/_util/hightlight.scss","hash":"43a603004401e5b64cf0421e5c4bcfea46bc5154","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/_util/media.scss","hash":"91ac0109aa4c1188f212677224638763a665f1ec","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/sass/_util/mixin.scss","hash":"a827fc341d3baa45fd3be1f5dfd23cbe2a79b247","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/source/default_images/post_background.jpg","hash":"52540d07264088db79c254fd52d151e573568179","modified":1484621815830},{"_id":"themes/hexo-theme-laughing/.git/logs/refs/heads/master","hash":"011a2b4deb1235f91a41f71e6e4b6faf6ef715b1","modified":1484621815783},{"_id":"themes/hexo-theme-laughing/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1484621815768},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/_common.scss","hash":"e43ee0cc485b6e8ee11e33434dd8472e449f8804","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/main.scss","hash":"c8c8dac049e6f1f03c4806e3b0edd1b527b4bcbf","modified":1484621815814},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/mobile-native.scss","hash":"517e2ca2de4f9556a0bb6e966183967f7bf1f860","modified":1484621815814},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/mobile-single.scss","hash":"d72bccef30971eefbf81bef7bf7ce60e1ac0103e","modified":1484621815814},{"_id":"themes/hexo-theme-laughing/.git/logs/refs/remotes/origin/HEAD","hash":"011a2b4deb1235f91a41f71e6e4b6faf6ef715b1","modified":1484621815783},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/dist/mobile/reset.min.css","hash":"752bcb20555fb6152867a7437aacf079f3c93c36","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/dist/mobile/reset.css","hash":"0521f9a7d0549e17d161f06a9af772a33425860e","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/dist/pc/reset.css","hash":"ce583f5d4a070592882ab3ff5bfef6c3b1298ba6","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/dist/pc/reset.min.css","hash":"d0e76dd5d95e95deee9c745438d8bf36b342081c","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/mobile/reset.css.map","hash":"445951f6ffd9f5fb3ae8293cf181f4b325e78e91","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/mobile/reset.min.css.map","hash":"391be8903caeb13fc78eccc26554d6c867e4c01f","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/mobile/reset.css","hash":"65ab82344dcdf2ac0a1ad27e9fd794bc435567b5","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/mobile/reset.min.css","hash":"075dc29373e343e78f9360a17a37c68fb8cc6233","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/main/reset.css","hash":"b9ae9b280a5111838b333ba2fe58ad71784a9d7e","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/main/reset.min.css","hash":"7727d79fe774c70caa451fce8a7fc09c2f446716","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/main/reset.css.map","hash":"5fecf7b914ca0bb1a5f4eaf4b2611b9c213a10ac","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/main/reset.min.css.map","hash":"460769e3339222fccba1ee502f61815df3165ba4","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/native/reset.css","hash":"a7ae24f842349ac80b5de5720ed9eb3bc35fc93f","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/native/reset.css.map","hash":"cca7d0a6572c76c78e5c0155a47ee38ceced455f","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/native/reset.min.css.map","hash":"93ff7a851ba44801bab6e573b2c35e2c3ce873b8","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/public/native/reset.min.css","hash":"0f7aa0d05acd90087aca7614e55df2471941d78a","modified":1484621815799},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/custom/_microsoft-yahei.scss","hash":"4c29be667ae1decd0cc2da424e89c792b901eefe","modified":1484621815814},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/custom/imitation-native.scss","hash":"86430c4b851d435240c6f7c7ac3deb78ce409648","modified":1484621815814},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/reset/basic.scss","hash":"9a6ad501a75ee9b6eb8d6dd7e009c0a5cf891fdc","modified":1484621815814},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/reset/mobile.scss","hash":"61223c6c44083cf61dba24b508e61be4640703d8","modified":1484621815814},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/reset/ie.scss","hash":"cf51b7dd03fd769f3c86bfb63edc974df42020f7","modified":1484621815814},{"_id":"themes/hexo-theme-laughing/source/components/reset-css/sass/reset/macos.scss","hash":"d5258c47f89e1a06337f88043f6143480abf4826","modified":1484621815814},{"_id":"themes/hexo-theme-laughing/.git/objects/pack/pack-6fdd5c62585a83ed11c5c60b55a86fffdc69e2d5.pack","hash":"ab7f76955334ae8a4109b55f248b066d08acbb93","modified":1484621815281}],"Category":[{"name":"redis","_id":"ciy195tiz0002vsb6zjrp6h25"}],"Data":[],"Page":[],"Post":[{"title":"使用redis实现互粉功能","date":"2017-01-17T07:11:46.000Z","excerpt":"","_content":"\n# 使用redis实现互粉\n\n> 最近在写api的时候要实现一个相互关注的功能，发现如果用mysql做查询不是很理想，\n  所以想能不能用redis来实现这个功能，网上一搜有很多实现的方法，结合网上的博文，\n  实现了自己的功能。\n  \n## 1.数据库实现\n\n一下是数据库的代码，通过保存用户的id和关注对象的id以及关注状态来判断用户的关注列\n表和粉丝列表，通过联查获取用户的基本信息，入头像、名称。\n\n   ```\n   DROP TABLE IF EXISTS `shc_sns`;\n     CREATE TABLE `shc_sns` (\n       `sns_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id值',\n       `sns_frommid` int(11) NOT NULL COMMENT '会员id',\n       `sns_tomid` int(11) NOT NULL COMMENT '朋友id',\n       `sns_addtime` int(11) NOT NULL COMMENT '添加时间',\n       `sns_followstate` tinyint(1) NOT NULL DEFAULT '1' COMMENT '关注状态 1为单方关注 2为双方关注',\n       PRIMARY KEY (`sns_id`),\n       KEY `FROMMID` (`sns_frommid`) USING BTREE,\n       KEY `TOMID` (`sns_tomid`,`sns_frommid`) USING BTREE,\n       KEY `FRIEND_IDS` (`sns_tomid`) USING BTREE\n     ) ENGINE=InnoDB AUTO_INCREMENT=196 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='好友数据表';\n    ```\n## 2.使用redis实现\n\nredis提供了很多的类型，这里我们使用'zadd'添加有序集合来实现。如果不了解'zadd'命令的\n可以点击查看这个[redis zdd命令](http://www.yiibai.com/redis/sorted_sets_zadd.html)\n\n### 1.关注\n 关注分为2个步骤，第一部是把对方加入到自己的关注list里面，第二步是将我写入到对方\n 的粉丝中，这里score是通过时间戳生成的方便之后做分页查询，代码如下\n\t```\n     public function addFollowsFansById($data){\n             if(empty($data)) return false;\n             $data['sns_addtime'] = time();\n             if($data['sns_followstate'] == 1){//单方面关注\n                 $result = $this->addFollowFan($data);//添加到数据库\n                 if($result){//添加到有序集合\n                     $this->cache->redis->zAdd('shc_follow:'.$data['sns_frommid'],time(),$data['sns_tomid']);\n                     $this->cache->redis->zAdd('shc_fans:'.$data['sns_tomid'],time(),$data['sns_frommid']);\n                 }\n                 return true;\n             }elseif($data['sns_followstate'] == 2){//相互关注\n                 $this->db->trans_begin();\n                 $this->addFollowFan($data);\n                 $this->editFollowFans(['sns_frommid'=>$data['sns_tomid'],'sns_tomid'=>$data['sns_frommid']],['sns_followstate'=>2]);\n                 if($this->db->trans_status() === false){\n                     $this->db->trans_rollback();\n                     return false;\n                 }else{\n                     $this->db->trans_commit();\n                     $this->cache->redis->zAdd('shc_follow:'.$data['sns_frommid'],time(),$data['sns_tomid']);\n                     $this->cache->redis->zAdd('shc_fans:'.$data['sns_tomid'],time(),$data['sns_frommid']);\n                     return true;\n                 }\n             }else{\n                 return false;\n             }\n         }\n\t```\n         \n### 2.取消关注\n取消关注也分为2个步骤，第一步从我的关注列表中删除对方，第二步从对方的粉丝列表中\n删除我，这里用redis的'zrem'来实现从有序集合中删除记录，[redis zrem命令](https://redis.io/commands/zrem)\n```\n    public function deleteFollowFansById($user_id,$follow_id,$state){\n            if($state == 1){\n                $result = $this->deleteFollowFans(['sns_frommid'=>$user_id,'sns_tomid'=>$follow_id]);\n                if($result){//缓存删除关注\n                    $this->cache->redis->zRem('shc_follow:'.$user_id,$follow_id);\n                    $this->cache->redis->zRem('shc_fans:'.$follow_id,$user_id);\n                }\n                return true;\n            }elseif($state == 2){\n                //开启事务\n                $this->db->trans_begin();\n                $this->deleteFollowFans(['sns_frommid'=>$user_id,'sns_tomid'=>$follow_id]);\n                $this->editFollowFans(['sns_frommid'=>$follow_id,'sns_tomid'=>$user_id],['sns_followstate'=>1]);\n                if($this->db->trans_status() === false){\n                    $this->db->trans_rollback();\n                    return false;\n                }else{\n                    $this->cache->redis->zRem('shc_follow:'.$user_id,$follow_id);\n                    $this->cache->redis->zRem('shc_fans:'.$follow_id,$user_id);\n                    $this->db->trans_commit();\n                    return true;\n                }\n            }else{\n                return false;\n            }\n        }\n```\n### 3.查看关注列表、粉丝列表\n查看关注、粉丝列表原理一样，用redis的'zrange'，'zrange'的形式如下\n\n    ZRANGE KEY START STOP\n\n所以我们传入要获取的开始条数'curreng_page'，以及要获取的条数 = 'current_page+page_size-1'，\n这里因为redis开始是1所以要-1，而数据库是从0开始查询，代码如下：\n[redis zrange命令](http://www.yiibai.com/redis/sorted_sets_zrange.html)\n      ```\n\t  public function getFollowsListById($user_id,$limit=array()){\n            $follow_list = $this->cache->redis->zRevRange('shc_follow:'.$user_id,$limit['current_page'],$limit['current_page']+$limit['page_size']-1);\n            if($follow_list){\n                $member_list = $this->Member_Model->getMemberListByIdS($follow_list,'user_id,user_nickname,user_portrait');\n                if($member_list) return $member_list;\n            }else{\n                return $this->getFollowsListByDb(['a.sns_frommid'=>$user_id],'b.user_id,b.user_nickname,b.user_portrait',$limit);\n            }\n        }\n\t\t```\n\n### 4.关注、粉丝数量\n通过redis的'zcard'命令来返回有序集合的数量，也就是粉丝、关注的数量\n\n### 5.关注状态\n关注状态分为3中类型，我当方面关注、你单方面关注、你我相互关注，所以很好理解，只要判断有序集合中是否存在记录就可以了，\n这种可以用到redis的'zcore'命令，\n\t```\n    //我关注你，你没关注我\n    ZSCORE 1:follow 2 #ture\n    ZSCORE 1:fans 2 #false\n    \n    //你关注我，我没关注你\n    ZSCORE 1:follow 2 #false\n    ZSCORE 1:fans 2 #true\n    \n    //相互关注\n    ZSCORE 1:follow 2 #true\n    ZSCORE 1:fans 2 #true\n\t```\n\n## 总结\n通过redis我们实现了互粉的功能，类似的也可以实现评论的功能，这样我们就能够缓减mysql的压力。\n\n\n\n","source":"_posts/使用redis实现互粉功能.md","raw":"---\ntitle: 使用redis实现互粉功能\ndate: 2017-01-17 15:11:46\ntags: [redis,php,ci]\ncategories: \"redis\"\nexcerpt: 123123132123\n---\n\n# 使用redis实现互粉\n\n> 最近在写api的时候要实现一个相互关注的功能，发现如果用mysql做查询不是很理想，\n  所以想能不能用redis来实现这个功能，网上一搜有很多实现的方法，结合网上的博文，\n  实现了自己的功能。\n  \n## 1.数据库实现\n\n一下是数据库的代码，通过保存用户的id和关注对象的id以及关注状态来判断用户的关注列\n表和粉丝列表，通过联查获取用户的基本信息，入头像、名称。\n\n   ```\n   DROP TABLE IF EXISTS `shc_sns`;\n     CREATE TABLE `shc_sns` (\n       `sns_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id值',\n       `sns_frommid` int(11) NOT NULL COMMENT '会员id',\n       `sns_tomid` int(11) NOT NULL COMMENT '朋友id',\n       `sns_addtime` int(11) NOT NULL COMMENT '添加时间',\n       `sns_followstate` tinyint(1) NOT NULL DEFAULT '1' COMMENT '关注状态 1为单方关注 2为双方关注',\n       PRIMARY KEY (`sns_id`),\n       KEY `FROMMID` (`sns_frommid`) USING BTREE,\n       KEY `TOMID` (`sns_tomid`,`sns_frommid`) USING BTREE,\n       KEY `FRIEND_IDS` (`sns_tomid`) USING BTREE\n     ) ENGINE=InnoDB AUTO_INCREMENT=196 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='好友数据表';\n    ```\n## 2.使用redis实现\n\nredis提供了很多的类型，这里我们使用'zadd'添加有序集合来实现。如果不了解'zadd'命令的\n可以点击查看这个[redis zdd命令](http://www.yiibai.com/redis/sorted_sets_zadd.html)\n\n### 1.关注\n 关注分为2个步骤，第一部是把对方加入到自己的关注list里面，第二步是将我写入到对方\n 的粉丝中，这里score是通过时间戳生成的方便之后做分页查询，代码如下\n\t```\n     public function addFollowsFansById($data){\n             if(empty($data)) return false;\n             $data['sns_addtime'] = time();\n             if($data['sns_followstate'] == 1){//单方面关注\n                 $result = $this->addFollowFan($data);//添加到数据库\n                 if($result){//添加到有序集合\n                     $this->cache->redis->zAdd('shc_follow:'.$data['sns_frommid'],time(),$data['sns_tomid']);\n                     $this->cache->redis->zAdd('shc_fans:'.$data['sns_tomid'],time(),$data['sns_frommid']);\n                 }\n                 return true;\n             }elseif($data['sns_followstate'] == 2){//相互关注\n                 $this->db->trans_begin();\n                 $this->addFollowFan($data);\n                 $this->editFollowFans(['sns_frommid'=>$data['sns_tomid'],'sns_tomid'=>$data['sns_frommid']],['sns_followstate'=>2]);\n                 if($this->db->trans_status() === false){\n                     $this->db->trans_rollback();\n                     return false;\n                 }else{\n                     $this->db->trans_commit();\n                     $this->cache->redis->zAdd('shc_follow:'.$data['sns_frommid'],time(),$data['sns_tomid']);\n                     $this->cache->redis->zAdd('shc_fans:'.$data['sns_tomid'],time(),$data['sns_frommid']);\n                     return true;\n                 }\n             }else{\n                 return false;\n             }\n         }\n\t```\n         \n### 2.取消关注\n取消关注也分为2个步骤，第一步从我的关注列表中删除对方，第二步从对方的粉丝列表中\n删除我，这里用redis的'zrem'来实现从有序集合中删除记录，[redis zrem命令](https://redis.io/commands/zrem)\n```\n    public function deleteFollowFansById($user_id,$follow_id,$state){\n            if($state == 1){\n                $result = $this->deleteFollowFans(['sns_frommid'=>$user_id,'sns_tomid'=>$follow_id]);\n                if($result){//缓存删除关注\n                    $this->cache->redis->zRem('shc_follow:'.$user_id,$follow_id);\n                    $this->cache->redis->zRem('shc_fans:'.$follow_id,$user_id);\n                }\n                return true;\n            }elseif($state == 2){\n                //开启事务\n                $this->db->trans_begin();\n                $this->deleteFollowFans(['sns_frommid'=>$user_id,'sns_tomid'=>$follow_id]);\n                $this->editFollowFans(['sns_frommid'=>$follow_id,'sns_tomid'=>$user_id],['sns_followstate'=>1]);\n                if($this->db->trans_status() === false){\n                    $this->db->trans_rollback();\n                    return false;\n                }else{\n                    $this->cache->redis->zRem('shc_follow:'.$user_id,$follow_id);\n                    $this->cache->redis->zRem('shc_fans:'.$follow_id,$user_id);\n                    $this->db->trans_commit();\n                    return true;\n                }\n            }else{\n                return false;\n            }\n        }\n```\n### 3.查看关注列表、粉丝列表\n查看关注、粉丝列表原理一样，用redis的'zrange'，'zrange'的形式如下\n\n    ZRANGE KEY START STOP\n\n所以我们传入要获取的开始条数'curreng_page'，以及要获取的条数 = 'current_page+page_size-1'，\n这里因为redis开始是1所以要-1，而数据库是从0开始查询，代码如下：\n[redis zrange命令](http://www.yiibai.com/redis/sorted_sets_zrange.html)\n      ```\n\t  public function getFollowsListById($user_id,$limit=array()){\n            $follow_list = $this->cache->redis->zRevRange('shc_follow:'.$user_id,$limit['current_page'],$limit['current_page']+$limit['page_size']-1);\n            if($follow_list){\n                $member_list = $this->Member_Model->getMemberListByIdS($follow_list,'user_id,user_nickname,user_portrait');\n                if($member_list) return $member_list;\n            }else{\n                return $this->getFollowsListByDb(['a.sns_frommid'=>$user_id],'b.user_id,b.user_nickname,b.user_portrait',$limit);\n            }\n        }\n\t\t```\n\n### 4.关注、粉丝数量\n通过redis的'zcard'命令来返回有序集合的数量，也就是粉丝、关注的数量\n\n### 5.关注状态\n关注状态分为3中类型，我当方面关注、你单方面关注、你我相互关注，所以很好理解，只要判断有序集合中是否存在记录就可以了，\n这种可以用到redis的'zcore'命令，\n\t```\n    //我关注你，你没关注我\n    ZSCORE 1:follow 2 #ture\n    ZSCORE 1:fans 2 #false\n    \n    //你关注我，我没关注你\n    ZSCORE 1:follow 2 #false\n    ZSCORE 1:fans 2 #true\n    \n    //相互关注\n    ZSCORE 1:follow 2 #true\n    ZSCORE 1:fans 2 #true\n\t```\n\n## 总结\n通过redis我们实现了互粉的功能，类似的也可以实现评论的功能，这样我们就能够缓减mysql的压力。\n\n\n\n","slug":"使用redis实现互粉功能","published":1,"updated":"2017-01-17T08:18:58.869Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciy195tit0000vsb6ja054lu9","content":"<h1 id=\"使用redis实现互粉\"><a href=\"#使用redis实现互粉\" class=\"headerlink\" title=\"使用redis实现互粉\"></a>使用redis实现互粉</h1><blockquote>\n<p>最近在写api的时候要实现一个相互关注的功能，发现如果用mysql做查询不是很理想，<br>  所以想能不能用redis来实现这个功能，网上一搜有很多实现的方法，结合网上的博文，<br>  实现了自己的功能。</p>\n</blockquote>\n<h2 id=\"1-数据库实现\"><a href=\"#1-数据库实现\" class=\"headerlink\" title=\"1.数据库实现\"></a>1.数据库实现</h2><p>一下是数据库的代码，通过保存用户的id和关注对象的id以及关注状态来判断用户的关注列<br>表和粉丝列表，通过联查获取用户的基本信息，入头像、名称。</p>\n   <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">DROP TABLE IF EXISTS `shc_sns`;</div><div class=\"line\">  CREATE TABLE `shc_sns` (</div><div class=\"line\">    `sns_id` int(11) NOT NULL AUTO_INCREMENT COMMENT &apos;id值&apos;,</div><div class=\"line\">    `sns_frommid` int(11) NOT NULL COMMENT &apos;会员id&apos;,</div><div class=\"line\">    `sns_tomid` int(11) NOT NULL COMMENT &apos;朋友id&apos;,</div><div class=\"line\">    `sns_addtime` int(11) NOT NULL COMMENT &apos;添加时间&apos;,</div><div class=\"line\">    `sns_followstate` tinyint(1) NOT NULL DEFAULT &apos;1&apos; COMMENT &apos;关注状态 1为单方关注 2为双方关注&apos;,</div><div class=\"line\">    PRIMARY KEY (`sns_id`),</div><div class=\"line\">    KEY `FROMMID` (`sns_frommid`) USING BTREE,</div><div class=\"line\">    KEY `TOMID` (`sns_tomid`,`sns_frommid`) USING BTREE,</div><div class=\"line\">    KEY `FRIEND_IDS` (`sns_tomid`) USING BTREE</div><div class=\"line\">  ) ENGINE=InnoDB AUTO_INCREMENT=196 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT=&apos;好友数据表&apos;;</div></pre></td></tr></table></figure>\n<h2 id=\"2-使用redis实现\"><a href=\"#2-使用redis实现\" class=\"headerlink\" title=\"2.使用redis实现\"></a>2.使用redis实现</h2><p>redis提供了很多的类型，这里我们使用’zadd’添加有序集合来实现。如果不了解’zadd’命令的<br>可以点击查看这个<a href=\"http://www.yiibai.com/redis/sorted_sets_zadd.html\" target=\"_blank\" rel=\"external\">redis zdd命令</a></p>\n<h3 id=\"1-关注\"><a href=\"#1-关注\" class=\"headerlink\" title=\"1.关注\"></a>1.关注</h3><p> 关注分为2个步骤，第一部是把对方加入到自己的关注list里面，第二步是将我写入到对方<br> 的粉丝中，这里score是通过时间戳生成的方便之后做分页查询，代码如下<br>    <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">public function addFollowsFansById($data)&#123;</div><div class=\"line\">        if(empty($data)) return false;</div><div class=\"line\">        $data[&apos;sns_addtime&apos;] = time();</div><div class=\"line\">        if($data[&apos;sns_followstate&apos;] == 1)&#123;//单方面关注</div><div class=\"line\">            $result = $this-&gt;addFollowFan($data);//添加到数据库</div><div class=\"line\">            if($result)&#123;//添加到有序集合</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zAdd(&apos;shc_follow:&apos;.$data[&apos;sns_frommid&apos;],time(),$data[&apos;sns_tomid&apos;]);</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zAdd(&apos;shc_fans:&apos;.$data[&apos;sns_tomid&apos;],time(),$data[&apos;sns_frommid&apos;]);</div><div class=\"line\">            &#125;</div><div class=\"line\">            return true;</div><div class=\"line\">        &#125;elseif($data[&apos;sns_followstate&apos;] == 2)&#123;//相互关注</div><div class=\"line\">            $this-&gt;db-&gt;trans_begin();</div><div class=\"line\">            $this-&gt;addFollowFan($data);</div><div class=\"line\">            $this-&gt;editFollowFans([&apos;sns_frommid&apos;=&gt;$data[&apos;sns_tomid&apos;],&apos;sns_tomid&apos;=&gt;$data[&apos;sns_frommid&apos;]],[&apos;sns_followstate&apos;=&gt;2]);</div><div class=\"line\">            if($this-&gt;db-&gt;trans_status() === false)&#123;</div><div class=\"line\">                $this-&gt;db-&gt;trans_rollback();</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;else&#123;</div><div class=\"line\">                $this-&gt;db-&gt;trans_commit();</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zAdd(&apos;shc_follow:&apos;.$data[&apos;sns_frommid&apos;],time(),$data[&apos;sns_tomid&apos;]);</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zAdd(&apos;shc_fans:&apos;.$data[&apos;sns_tomid&apos;],time(),$data[&apos;sns_frommid&apos;]);</div><div class=\"line\">                return true;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;else&#123;</div><div class=\"line\">            return false;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"2-取消关注\"><a href=\"#2-取消关注\" class=\"headerlink\" title=\"2.取消关注\"></a>2.取消关注</h3><p>取消关注也分为2个步骤，第一步从我的关注列表中删除对方，第二步从对方的粉丝列表中<br>删除我，这里用redis的’zrem’来实现从有序集合中删除记录，<a href=\"https://redis.io/commands/zrem\" target=\"_blank\" rel=\"external\">redis zrem命令</a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">public function deleteFollowFansById($user_id,$follow_id,$state)&#123;</div><div class=\"line\">        if($state == 1)&#123;</div><div class=\"line\">            $result = $this-&gt;deleteFollowFans([&apos;sns_frommid&apos;=&gt;$user_id,&apos;sns_tomid&apos;=&gt;$follow_id]);</div><div class=\"line\">            if($result)&#123;//缓存删除关注</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zRem(&apos;shc_follow:&apos;.$user_id,$follow_id);</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zRem(&apos;shc_fans:&apos;.$follow_id,$user_id);</div><div class=\"line\">            &#125;</div><div class=\"line\">            return true;</div><div class=\"line\">        &#125;elseif($state == 2)&#123;</div><div class=\"line\">            //开启事务</div><div class=\"line\">            $this-&gt;db-&gt;trans_begin();</div><div class=\"line\">            $this-&gt;deleteFollowFans([&apos;sns_frommid&apos;=&gt;$user_id,&apos;sns_tomid&apos;=&gt;$follow_id]);</div><div class=\"line\">            $this-&gt;editFollowFans([&apos;sns_frommid&apos;=&gt;$follow_id,&apos;sns_tomid&apos;=&gt;$user_id],[&apos;sns_followstate&apos;=&gt;1]);</div><div class=\"line\">            if($this-&gt;db-&gt;trans_status() === false)&#123;</div><div class=\"line\">                $this-&gt;db-&gt;trans_rollback();</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;else&#123;</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zRem(&apos;shc_follow:&apos;.$user_id,$follow_id);</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zRem(&apos;shc_fans:&apos;.$follow_id,$user_id);</div><div class=\"line\">                $this-&gt;db-&gt;trans_commit();</div><div class=\"line\">                return true;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;else&#123;</div><div class=\"line\">            return false;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"3-查看关注列表、粉丝列表\"><a href=\"#3-查看关注列表、粉丝列表\" class=\"headerlink\" title=\"3.查看关注列表、粉丝列表\"></a>3.查看关注列表、粉丝列表</h3><p>查看关注、粉丝列表原理一样，用redis的’zrange’，’zrange’的形式如下</p>\n<pre><code>ZRANGE KEY START STOP\n</code></pre><p>所以我们传入要获取的开始条数’curreng_page’，以及要获取的条数 = ‘current_page+page_size-1’，<br>这里因为redis开始是1所以要-1，而数据库是从0开始查询，代码如下：<br><a href=\"http://www.yiibai.com/redis/sorted_sets_zrange.html\" target=\"_blank\" rel=\"external\">redis zrange命令</a><br>      <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">public function getFollowsListById($user_id,$limit=array())&#123;</div><div class=\"line\">         $follow_list = $this-&gt;cache-&gt;redis-&gt;zRevRange(&apos;shc_follow:&apos;.$user_id,$limit[&apos;current_page&apos;],$limit[&apos;current_page&apos;]+$limit[&apos;page_size&apos;]-1);</div><div class=\"line\">         if($follow_list)&#123;</div><div class=\"line\">             $member_list = $this-&gt;Member_Model-&gt;getMemberListByIdS($follow_list,&apos;user_id,user_nickname,user_portrait&apos;);</div><div class=\"line\">             if($member_list) return $member_list;</div><div class=\"line\">         &#125;else&#123;</div><div class=\"line\">             return $this-&gt;getFollowsListByDb([&apos;a.sns_frommid&apos;=&gt;$user_id],&apos;b.user_id,b.user_nickname,b.user_portrait&apos;,$limit);</div><div class=\"line\">         &#125;</div><div class=\"line\">     &#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"4-关注、粉丝数量\"><a href=\"#4-关注、粉丝数量\" class=\"headerlink\" title=\"4.关注、粉丝数量\"></a>4.关注、粉丝数量</h3><p>通过redis的’zcard’命令来返回有序集合的数量，也就是粉丝、关注的数量</p>\n<h3 id=\"5-关注状态\"><a href=\"#5-关注状态\" class=\"headerlink\" title=\"5.关注状态\"></a>5.关注状态</h3><p>关注状态分为3中类型，我当方面关注、你单方面关注、你我相互关注，所以很好理解，只要判断有序集合中是否存在记录就可以了，<br>这种可以用到redis的’zcore’命令，<br>    <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">//我关注你，你没关注我</div><div class=\"line\">ZSCORE 1:follow 2 #ture</div><div class=\"line\">ZSCORE 1:fans 2 #false</div><div class=\"line\"></div><div class=\"line\">//你关注我，我没关注你</div><div class=\"line\">ZSCORE 1:follow 2 #false</div><div class=\"line\">ZSCORE 1:fans 2 #true</div><div class=\"line\"></div><div class=\"line\">//相互关注</div><div class=\"line\">ZSCORE 1:follow 2 #true</div><div class=\"line\">ZSCORE 1:fans 2 #true</div></pre></td></tr></table></figure></p>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>通过redis我们实现了互粉的功能，类似的也可以实现评论的功能，这样我们就能够缓减mysql的压力。</p>\n","more":"<h1 id=\"使用redis实现互粉\"><a href=\"#使用redis实现互粉\" class=\"headerlink\" title=\"使用redis实现互粉\"></a>使用redis实现互粉</h1><blockquote>\n<p>最近在写api的时候要实现一个相互关注的功能，发现如果用mysql做查询不是很理想，<br>  所以想能不能用redis来实现这个功能，网上一搜有很多实现的方法，结合网上的博文，<br>  实现了自己的功能。</p>\n</blockquote>\n<h2 id=\"1-数据库实现\"><a href=\"#1-数据库实现\" class=\"headerlink\" title=\"1.数据库实现\"></a>1.数据库实现</h2><p>一下是数据库的代码，通过保存用户的id和关注对象的id以及关注状态来判断用户的关注列<br>表和粉丝列表，通过联查获取用户的基本信息，入头像、名称。</p>\n   <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">DROP TABLE IF EXISTS `shc_sns`;</div><div class=\"line\">  CREATE TABLE `shc_sns` (</div><div class=\"line\">    `sns_id` int(11) NOT NULL AUTO_INCREMENT COMMENT &apos;id值&apos;,</div><div class=\"line\">    `sns_frommid` int(11) NOT NULL COMMENT &apos;会员id&apos;,</div><div class=\"line\">    `sns_tomid` int(11) NOT NULL COMMENT &apos;朋友id&apos;,</div><div class=\"line\">    `sns_addtime` int(11) NOT NULL COMMENT &apos;添加时间&apos;,</div><div class=\"line\">    `sns_followstate` tinyint(1) NOT NULL DEFAULT &apos;1&apos; COMMENT &apos;关注状态 1为单方关注 2为双方关注&apos;,</div><div class=\"line\">    PRIMARY KEY (`sns_id`),</div><div class=\"line\">    KEY `FROMMID` (`sns_frommid`) USING BTREE,</div><div class=\"line\">    KEY `TOMID` (`sns_tomid`,`sns_frommid`) USING BTREE,</div><div class=\"line\">    KEY `FRIEND_IDS` (`sns_tomid`) USING BTREE</div><div class=\"line\">  ) ENGINE=InnoDB AUTO_INCREMENT=196 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT=&apos;好友数据表&apos;;</div></pre></td></tr></table></figure>\n<h2 id=\"2-使用redis实现\"><a href=\"#2-使用redis实现\" class=\"headerlink\" title=\"2.使用redis实现\"></a>2.使用redis实现</h2><p>redis提供了很多的类型，这里我们使用’zadd’添加有序集合来实现。如果不了解’zadd’命令的<br>可以点击查看这个<a href=\"http://www.yiibai.com/redis/sorted_sets_zadd.html\">redis zdd命令</a></p>\n<h3 id=\"1-关注\"><a href=\"#1-关注\" class=\"headerlink\" title=\"1.关注\"></a>1.关注</h3><p> 关注分为2个步骤，第一部是把对方加入到自己的关注list里面，第二步是将我写入到对方<br> 的粉丝中，这里score是通过时间戳生成的方便之后做分页查询，代码如下<br>    <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">public function addFollowsFansById($data)&#123;</div><div class=\"line\">        if(empty($data)) return false;</div><div class=\"line\">        $data[&apos;sns_addtime&apos;] = time();</div><div class=\"line\">        if($data[&apos;sns_followstate&apos;] == 1)&#123;//单方面关注</div><div class=\"line\">            $result = $this-&gt;addFollowFan($data);//添加到数据库</div><div class=\"line\">            if($result)&#123;//添加到有序集合</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zAdd(&apos;shc_follow:&apos;.$data[&apos;sns_frommid&apos;],time(),$data[&apos;sns_tomid&apos;]);</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zAdd(&apos;shc_fans:&apos;.$data[&apos;sns_tomid&apos;],time(),$data[&apos;sns_frommid&apos;]);</div><div class=\"line\">            &#125;</div><div class=\"line\">            return true;</div><div class=\"line\">        &#125;elseif($data[&apos;sns_followstate&apos;] == 2)&#123;//相互关注</div><div class=\"line\">            $this-&gt;db-&gt;trans_begin();</div><div class=\"line\">            $this-&gt;addFollowFan($data);</div><div class=\"line\">            $this-&gt;editFollowFans([&apos;sns_frommid&apos;=&gt;$data[&apos;sns_tomid&apos;],&apos;sns_tomid&apos;=&gt;$data[&apos;sns_frommid&apos;]],[&apos;sns_followstate&apos;=&gt;2]);</div><div class=\"line\">            if($this-&gt;db-&gt;trans_status() === false)&#123;</div><div class=\"line\">                $this-&gt;db-&gt;trans_rollback();</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;else&#123;</div><div class=\"line\">                $this-&gt;db-&gt;trans_commit();</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zAdd(&apos;shc_follow:&apos;.$data[&apos;sns_frommid&apos;],time(),$data[&apos;sns_tomid&apos;]);</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zAdd(&apos;shc_fans:&apos;.$data[&apos;sns_tomid&apos;],time(),$data[&apos;sns_frommid&apos;]);</div><div class=\"line\">                return true;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;else&#123;</div><div class=\"line\">            return false;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"2-取消关注\"><a href=\"#2-取消关注\" class=\"headerlink\" title=\"2.取消关注\"></a>2.取消关注</h3><p>取消关注也分为2个步骤，第一步从我的关注列表中删除对方，第二步从对方的粉丝列表中<br>删除我，这里用redis的’zrem’来实现从有序集合中删除记录，<a href=\"https://redis.io/commands/zrem\">redis zrem命令</a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">public function deleteFollowFansById($user_id,$follow_id,$state)&#123;</div><div class=\"line\">        if($state == 1)&#123;</div><div class=\"line\">            $result = $this-&gt;deleteFollowFans([&apos;sns_frommid&apos;=&gt;$user_id,&apos;sns_tomid&apos;=&gt;$follow_id]);</div><div class=\"line\">            if($result)&#123;//缓存删除关注</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zRem(&apos;shc_follow:&apos;.$user_id,$follow_id);</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zRem(&apos;shc_fans:&apos;.$follow_id,$user_id);</div><div class=\"line\">            &#125;</div><div class=\"line\">            return true;</div><div class=\"line\">        &#125;elseif($state == 2)&#123;</div><div class=\"line\">            //开启事务</div><div class=\"line\">            $this-&gt;db-&gt;trans_begin();</div><div class=\"line\">            $this-&gt;deleteFollowFans([&apos;sns_frommid&apos;=&gt;$user_id,&apos;sns_tomid&apos;=&gt;$follow_id]);</div><div class=\"line\">            $this-&gt;editFollowFans([&apos;sns_frommid&apos;=&gt;$follow_id,&apos;sns_tomid&apos;=&gt;$user_id],[&apos;sns_followstate&apos;=&gt;1]);</div><div class=\"line\">            if($this-&gt;db-&gt;trans_status() === false)&#123;</div><div class=\"line\">                $this-&gt;db-&gt;trans_rollback();</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;else&#123;</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zRem(&apos;shc_follow:&apos;.$user_id,$follow_id);</div><div class=\"line\">                $this-&gt;cache-&gt;redis-&gt;zRem(&apos;shc_fans:&apos;.$follow_id,$user_id);</div><div class=\"line\">                $this-&gt;db-&gt;trans_commit();</div><div class=\"line\">                return true;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;else&#123;</div><div class=\"line\">            return false;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"3-查看关注列表、粉丝列表\"><a href=\"#3-查看关注列表、粉丝列表\" class=\"headerlink\" title=\"3.查看关注列表、粉丝列表\"></a>3.查看关注列表、粉丝列表</h3><p>查看关注、粉丝列表原理一样，用redis的’zrange’，’zrange’的形式如下</p>\n<pre><code>ZRANGE KEY START STOP\n</code></pre><p>所以我们传入要获取的开始条数’curreng_page’，以及要获取的条数 = ‘current_page+page_size-1’，<br>这里因为redis开始是1所以要-1，而数据库是从0开始查询，代码如下：<br><a href=\"http://www.yiibai.com/redis/sorted_sets_zrange.html\">redis zrange命令</a><br>      <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">public function getFollowsListById($user_id,$limit=array())&#123;</div><div class=\"line\">         $follow_list = $this-&gt;cache-&gt;redis-&gt;zRevRange(&apos;shc_follow:&apos;.$user_id,$limit[&apos;current_page&apos;],$limit[&apos;current_page&apos;]+$limit[&apos;page_size&apos;]-1);</div><div class=\"line\">         if($follow_list)&#123;</div><div class=\"line\">             $member_list = $this-&gt;Member_Model-&gt;getMemberListByIdS($follow_list,&apos;user_id,user_nickname,user_portrait&apos;);</div><div class=\"line\">             if($member_list) return $member_list;</div><div class=\"line\">         &#125;else&#123;</div><div class=\"line\">             return $this-&gt;getFollowsListByDb([&apos;a.sns_frommid&apos;=&gt;$user_id],&apos;b.user_id,b.user_nickname,b.user_portrait&apos;,$limit);</div><div class=\"line\">         &#125;</div><div class=\"line\">     &#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"4-关注、粉丝数量\"><a href=\"#4-关注、粉丝数量\" class=\"headerlink\" title=\"4.关注、粉丝数量\"></a>4.关注、粉丝数量</h3><p>通过redis的’zcard’命令来返回有序集合的数量，也就是粉丝、关注的数量</p>\n<h3 id=\"5-关注状态\"><a href=\"#5-关注状态\" class=\"headerlink\" title=\"5.关注状态\"></a>5.关注状态</h3><p>关注状态分为3中类型，我当方面关注、你单方面关注、你我相互关注，所以很好理解，只要判断有序集合中是否存在记录就可以了，<br>这种可以用到redis的’zcore’命令，<br>    <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">//我关注你，你没关注我</div><div class=\"line\">ZSCORE 1:follow 2 #ture</div><div class=\"line\">ZSCORE 1:fans 2 #false</div><div class=\"line\"></div><div class=\"line\">//你关注我，我没关注你</div><div class=\"line\">ZSCORE 1:follow 2 #false</div><div class=\"line\">ZSCORE 1:fans 2 #true</div><div class=\"line\"></div><div class=\"line\">//相互关注</div><div class=\"line\">ZSCORE 1:follow 2 #true</div><div class=\"line\">ZSCORE 1:fans 2 #true</div></pre></td></tr></table></figure></p>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>通过redis我们实现了互粉的功能，类似的也可以实现评论的功能，这样我们就能够缓减mysql的压力。</p>\n"},{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","slug":"hello-world","published":1,"date":"2017-01-17T02:45:49.153Z","updated":"2017-01-17T02:45:49.153Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciy195tix0001vsb6g5p6p5oy","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"external\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"external\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"external\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"external\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"external\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"external\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"external\">Deployment</a></p>\n","excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\">Deployment</a></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"ciy195tit0000vsb6ja054lu9","category_id":"ciy195tiz0002vsb6zjrp6h25","_id":"ciy195tj30005vsb61t98o5sh"}],"PostTag":[{"post_id":"ciy195tit0000vsb6ja054lu9","tag_id":"ciy195tj20003vsb6kcrkwv9w","_id":"ciy195tj40007vsb6c5n7k62i"},{"post_id":"ciy195tit0000vsb6ja054lu9","tag_id":"ciy195tj30004vsb6l7l73xb9","_id":"ciy195tj40008vsb6kb4ij0xn"},{"post_id":"ciy195tit0000vsb6ja054lu9","tag_id":"ciy195tj40006vsb6iptndppn","_id":"ciy195tj50009vsb6xnya0f2v"}],"Tag":[{"name":"redis","_id":"ciy195tj20003vsb6kcrkwv9w"},{"name":"php","_id":"ciy195tj30004vsb6l7l73xb9"},{"name":"ci","_id":"ciy195tj40006vsb6iptndppn"}]}}